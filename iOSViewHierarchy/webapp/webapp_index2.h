//
//  webapp_index2.h
//  iOSHierarchyViewer
//
//
// THIS FILE IS GENERATED AUTOMATICALLY BY XCODE's script
//
//

#ifndef iOSHierarchyViewer_webapp_index2 
#define iOSHierarchyViewer_webapp_index2 

#define WEBAPP_INDEX2 @"PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCIvPiAKICA8dGl0bGU+aU9TIEhpZXJhcmNoeSBWaWV3ZXI8L3RpdGxlPgogIDxsaW5rIGhyZWY9InN0eWxlLmNzcyIgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyI+CiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianF1ZXJ5LmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT48L2JvZHk+CjxzY3JpcHQ+CglmdW5jdGlvbiBTY3JlZW4ob3B0aW9ucykgewoJCXZhciBvID0gb3B0aW9uczsKCgkJdmFyIGNyZWF0ZVNjcmVlbk5vZGUgPSBmdW5jdGlvbih2aWV3TWV0YSwgdmlld1BhcmVudE1ldGEpIHsKCQkJdmFyIHZpZXdOb2RlID0gJCgnPGRpdiBjbGFzcz0ic2NyZWVuX25vZGUiIGRhdGFfaWQ9IicgKyB2aWV3TWV0YS5pZCArICciPjwvZGl2PicpOwoJCQl2YXIgbGVmdE9mZnNldCA9IHZpZXdQYXJlbnRNZXRhID8gdmlld1BhcmVudE1ldGEubGF5ZXJfYm91bmRzX3ggOiAwOwoJCQl2YXIgdG9wT2Zmc2V0ID0gdmlld1BhcmVudE1ldGEgPyB2aWV3UGFyZW50TWV0YS5sYXllcl9ib3VuZHNfeSA6IDA7CgkJCXZpZXdOb2RlLmNzcygnbGVmdCcgICwgKCB2aWV3TWV0YS5sYXllcl9wb3NpdGlvbl94IC0gdmlld01ldGEubGF5ZXJfYm91bmRzX3cgKiB2aWV3TWV0YS5sYXllcl9hbmNob3JfeCAtIGxlZnRPZmZzZXQgLTEgICkgKyAncHgnKTsKCQkJdmlld05vZGUuY3NzKCd0b3AnCSAsICggdmlld01ldGEubGF5ZXJfcG9zaXRpb25feSAtIHZpZXdNZXRhLmxheWVyX2JvdW5kc19oICogdmlld01ldGEubGF5ZXJfYW5jaG9yX3kgLSB0b3BPZmZzZXQgIC0xICApICsgJ3B4Jyk7CgkJCXZpZXdOb2RlLmNzcygnd2lkdGgnICwgKCB2aWV3TWV0YS5sYXllcl9ib3VuZHNfdyAtIDIgKSArICdweCcpOwoJCQl2aWV3Tm9kZS5jc3MoJ2hlaWdodCcsICggdmlld01ldGEubGF5ZXJfYm91bmRzX2ggLSAyICkgKyAncHgnKTsKCQkJdmlld05vZGUuY3NzKCctd2Via2l0LW9yaWdpbicsICggdmlld01ldGEubGF5ZXJfYW5jaG9yX3ggKiAxMCApICsgJyUnLCAoIHZpZXdNZXRhLmxheWVyX2FuY2hvcl95ICogMTAgKSArICclJyk7CgkJCXZpZXdOb2RlLmNzcygnLXdlYmtpdC10cmFuc2Zvcm0nLCAnbWF0cml4M2QoJyArIHZpZXdNZXRhLmxheWVyX3RyYW5zZm9ybSArICcpJyk7CgkJCWlmICggdmlld01ldGEucHJldmlldyApIHsKCQkJCXZpZXdOb2RlLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICJ1cmwoJyIgKyB2aWV3TWV0YS5wcmV2aWV3ICsgIicpIik7CgkJCQl2aWV3Tm9kZS5jc3MoJ2JhY2tncm91bmQtb3JpZ2luJywgJ2JvcmRlci1ib3gnKTsKCQkJfQoJCQlyZXR1cm4gdmlld05vZGU7CgkJfQoKCQl2YXIgbWFpbk5vZGVWaWV3ID0gY3JlYXRlU2NyZWVuTm9kZShvKTsKCQkvL21haW5Ob2RlVmlldy5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCJ1cmwoJy9wcmV2aWV3P25vY2FjaGU9IiArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgKyAiJykiKTsKCQltYWluTm9kZVZpZXcuYWRkQ2xhc3MoJ3NjcmVlbl9yb290X25vZGUnKTsKCgkJdmFyIHZpZXdwb3J0U2NhbGUgPSAxLCB2aWV3cG9ydFRyYW5zbGF0ZVggPSAwLCB2aWV3cG9ydFRyYW5zbGF0ZVkgPSAwLCB2aWV3cG9ydFJvdGF0aW9uID0gMDsKCgkJZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtKCkgewoJCQl2YXIgdHJhbnNmb3JtVmFsdWUgPSAndHJhbnNsYXRlKCcgKyB2aWV3cG9ydFRyYW5zbGF0ZVggICsgJ3B4LCcgKyB2aWV3cG9ydFRyYW5zbGF0ZVkgKyAncHgpIHJvdGF0ZSgnICsgdmlld3BvcnRSb3RhdGlvbiArICdkZWcpIHNjYWxlKCcgKyB2aWV3cG9ydFNjYWxlICsgJyknOwoJCQltYWluTm9kZVZpZXcuY3NzKCctd2Via2l0LXRyYW5zZm9ybScsIHRyYW5zZm9ybVZhbHVlKTsKCQkJbWFpbk5vZGVWaWV3LmNzcygnLW1vei10cmFuc2Zvcm0nLCB0cmFuc2Zvcm1WYWx1ZSk7CgkJfQoKCQl2YXIgem9vbUluRG9tID0gJCgnPGRpdiBjbGFzcz0ic2NyZWVuX3pvb21faW4gc2NyZWVuX3pvb20iIHRpdGxlPSJ6b29tIGluIj4rPC9kaXY+Jyk7CgkJdmFyIHpvb21PdXREb20gPSAkKCc8ZGl2IGNsYXNzPSJzY3JlZW5fem9vbV9vdXQgc2NyZWVuX3pvb20iIHRpdGxlPSJ6b29tIG91dCI+LTwvZGl2PicpOwoJCXZhciByb3RMZWZ0RG9tID0gJCgnPGRpdiBjbGFzcz0ic2NyZWVuX3JvdF9sZWZ0IHNjcmVlbl96b29tIiB0aXRsZT0icm90YXRlIGxlZnQiPuKGujwvZGl2PicpOwoJCXZhciByb3RSaWdodERvbSA9ICQoJzxkaXYgY2xhc3M9InNjcmVlbl9yb3RfcmlnaHQgc2NyZWVuX3pvb20iIHRpdGxlPSJyb3RhdGUgcmlnaHQiPuKGuzwvZGl2PicpOwoKCQl6b29tSW5Eb20uY2xpY2soZnVuY3Rpb24oKSB7IHZpZXdwb3J0U2NhbGUgKz0gMC4xOyB1cGRhdGVUcmFuc2Zvcm0oKTsgfSk7CgkJem9vbU91dERvbS5jbGljayhmdW5jdGlvbigpIHsgdmlld3BvcnRTY2FsZSAtPSAwLjE7IHVwZGF0ZVRyYW5zZm9ybSgpOyB9KTsKCQlyb3RMZWZ0RG9tLmNsaWNrKGZ1bmN0aW9uKCkgeyB2aWV3cG9ydFJvdGF0aW9uIC09IDkwLjA7IHVwZGF0ZVRyYW5zZm9ybSgpOyB9ICk7CgkJcm90UmlnaHREb20uY2xpY2soZnVuY3Rpb24oKSB7IHZpZXdwb3J0Um90YXRpb24gKz0gOTA7IHVwZGF0ZVRyYW5zZm9ybSgpOyB9ICk7CgoJCW8ucGFyZW50RG9tLmFwcGVuZCh6b29tSW5Eb20pOwoJCW8ucGFyZW50RG9tLmFwcGVuZCh6b29tT3V0RG9tKTsKCQlvLnBhcmVudERvbS5hcHBlbmQocm90TGVmdERvbSk7CgkJby5wYXJlbnREb20uYXBwZW5kKHJvdFJpZ2h0RG9tKTsKCgkJdmFyIGNsZWFyRnVuYyA9IGZ1bmN0aW9uKCkgewoJCQltYWluTm9kZVZpZXcuZW1wdHkoKTsKCQl9CgoJCXZhciBmaWxsUmVjdXJzaXZlID0gZnVuY3Rpb24ocGFyZW50LCB2aWV3cywgcGFyZW50VmlldykgewoJCQkkLmVhY2godmlld3MsIGZ1bmN0aW9uKGluZGV4LCB2KSB7CgkJCQl2YXIgdmlld05vZGUgPSBjcmVhdGVTY3JlZW5Ob2RlKHYsIHBhcmVudFZpZXcpOwoJCQkJZmlsbFJlY3Vyc2l2ZSh2aWV3Tm9kZSwgdi52aWV3cywgdik7CgkJCQlwYXJlbnQuYXBwZW5kKHZpZXdOb2RlKTsKCQkJfSk7CgkJfQoKCQl2YXIgZmlsbEZ1bmMgPSBmdW5jdGlvbih2aWV3cykgewoJCQlmaWxsUmVjdXJzaXZlKG1haW5Ob2RlVmlldywgdmlld3MpOwoJCQl2YXIgZG93blggPSAwLCBkb3duWSA9IDA7CgkJCXZhciBsYXN0WCwgbGFzdFk7CgkJCXZhciB2aWV3SWQgPSAwOwoKCQkJdmFyIGhhbmRsZU1vdXNlTW92ZSA9IGZ1bmN0aW9uKGVlKSB7CgkJCQl2aWV3cG9ydFRyYW5zbGF0ZVggKz0gLShsYXN0WCAtIGVlLnBhZ2VYKTsKCQkJCXZpZXdwb3J0VHJhbnNsYXRlWSArPSAtKGxhc3RZIC0gZWUucGFnZVkpOwoJCQkJbGFzdFggPSBlZS5wYWdlWDsKCQkJCWxhc3RZID0gZWUucGFnZVk7CgkJCQl1cGRhdGVUcmFuc2Zvcm0oKTsKCQkJfTsKCgkJCXZhciBoYW5kbGVNb3VzZVVwID0gZnVuY3Rpb24oZSkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCWlmICggTWF0aC5hYnMoZG93blgtZS5wYWdlWCkgPCAxMCAmJiBNYXRoLmFicyhkb3duWS1lLnBhZ2VZKSA8IDEwICkgewoJCQkJCWlmICggby5vblNlbGVjdGVkICkgby5vblNlbGVjdGVkKHZpZXdJZCk7CgkJCQl9CgkJCQkkKHdpbmRvdykudW5iaW5kKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CgkJCQkkKHdpbmRvdykudW5iaW5kKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3VzZU1vdmUpOwoJCQl9OwoKCQkJbWFpbk5vZGVWaWV3LmZpbmQoJy5zY3JlZW5fbm9kZScpLm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCQl2aWV3SWQgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ2RhdGFfaWQnKSk7CgkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJZG93blggPSBlLnBhZ2VYOwoJCQkJZG93blkgPSBlLnBhZ2VZOwoJCQkJbGFzdFggPSBlLnBhZ2VYOwoJCQkJbGFzdFkgPSBlLnBhZ2VZOwoJCQkJJCh3aW5kb3cpLmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7CgkJCQkkKHdpbmRvdykuYmluZCgnbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApOwoJCQl9KTsKCQl9CgoJCXZhciBzaXplRnVuYyA9IGZ1bmN0aW9uKHZpZXcpIHsKCQkJbWFpbk5vZGVWaWV3LmNzcygnbGVmdCcsICc1MCUnKTsKCQkJbWFpbk5vZGVWaWV3LmNzcygndG9wJywgJzUwJScpOwoJCQltYWluTm9kZVZpZXcuY3NzKCdtYXJnaW4tbGVmdCcsICctJyArIHZpZXcuYm91bmRzX3cvMiArICdweCcpOwoJCQltYWluTm9kZVZpZXcuY3NzKCdtYXJnaW4tdG9wJyAsICctJyArIHZpZXcuYm91bmRzX2gvMiArICdweCcpOwoJCQltYWluTm9kZVZpZXcuY3NzKCd3aWR0aCcsICh2aWV3LmJvdW5kc193LTIpICsgJ3B4Jyk7CgkJCW1haW5Ob2RlVmlldy5jc3MoJ2hlaWdodCcsKHZpZXcuYm91bmRzX2gtMikgKyAncHgnKTsKCQl9CgoJCXZhciBmb2N1c0Z1bmMgPSBmdW5jdGlvbih2aWV3SWQpIHsKCQkJbWFpbk5vZGVWaWV3LmZpbmQoJy5zY3JlZW5fbm9kZVtkYXRhX2lkPScgKyB2aWV3SWQgKyAnXScpLmFkZENsYXNzKCdzY3JlZW5fbm9kZV9mb2N1c2VkJyk7CgkJfQoKCQl2YXIgYmx1ckZ1bmMgPSBmdW5jdGlvbih2aWV3SWQpIHsKCQkJbWFpbk5vZGVWaWV3LmZpbmQoJy5zY3JlZW5fbm9kZVtkYXRhX2lkPScgKyB2aWV3SWQgKyAnXScpLnJlbW92ZUNsYXNzKCdzY3JlZW5fbm9kZV9mb2N1c2VkJyk7CgkJfQoKCQl2YXIgc2hvd0RlYnVnRnJhbWVzRnVuYyA9IGZ1bmN0aW9uKCkgewoJCQkkKCcuc2NyZWVuX25vZGUnKS5hZGRDbGFzcygnc2NyZWVuX25vZGVfZGVidWcnKTsKCQl9CgoJCXZhciBoaWRlRGVidWdGcmFtZXNGdW5jID0gZnVuY3Rpb24oKSB7CgkJCSQoJy5zY3JlZW5fbm9kZScpLnJlbW92ZUNsYXNzKCdzY3JlZW5fbm9kZV9kZWJ1ZycpOwoJCX0KCgkJdmFyIHNob3dGdW5jID0gZnVuY3Rpb24oKSB7IG8ucGFyZW50RG9tLnNob3coKTsgfQoJCXZhciBoaWRlRnVuYyA9IGZ1bmN0aW9uKCkgeyBvLnBhcmVudERvbS5oaWRlKCk7IH0KCgkJby5wYXJlbnREb20uYXBwZW5kKG1haW5Ob2RlVmlldyk7CgoJCXJldHVybiB7CgkJCWNsZWFyOiBjbGVhckZ1bmMsCgkJCWZpbGw6IGZpbGxGdW5jLAoJCQlzaXplOiBzaXplRnVuYywKCQkJZm9jdXM6IGZvY3VzRnVuYywKCQkJYmx1cjogYmx1ckZ1bmMsCgkJCXNob3dEZWJ1Z0ZyYW1lczogc2hvd0RlYnVnRnJhbWVzRnVuYywKCQkJaGlkZURlYnVnRnJhbWVzOiBoaWRlRGVidWdGcmFtZXNGdW5jLAoJCQlzaG93OiBzaG93RnVuYywKCQkJaGlkZTogaGlkZUZ1bmMKCQl9Cgl9Cjwvc2NyaXB0Pgo8c2NyaXB0PgoJZnVuY3Rpb24gVmlld3NUcmVlKG9wdGlvbnMpIHsKCQl2YXIgbyA9IG9wdGlvbnM7CgkJdmFyIG5vZGVzUGFyZW50ID0gJCgnPGRpdiBjbGFzcz0idHJlZV9wYXJlbnQiPjwvZGl2PicpOwoKCQlmdW5jdGlvbiBidWlsZFZpZXdGdW5jKHZpZXcpIHsKCQkJdmFyIGlzT3BlbmFibGUgPSB2aWV3LnZpZXdzICYmIHZpZXcudmlld3MubGVuZ3RoID4gMDsKCSAgICAgICAgdmFyIG5ld0xpc3QgPSAkKCc8dWwgY2xhc3M9InRyZWVfbm9kZSIgZGF0YV9pZD0iJyArIHZpZXcuaWQgKyAnIj48L3VsJyk7CgkgICAgICAgIG5ld0xpc3QuYXBwZW5kKCc8ZGl2IGNsYXNzPSJ0cmVlX25vZGVfbmFtZSIgb3BlbmVkPSIwIiBkYXRhX2lkPSInICsgdmlldy5pZCArICciIGNhbl9leHBhbmQ9IicgKyAoaXNPcGVuYWJsZT8nMSc6JzAnKSArICciPicgKyAoaXNPcGVuYWJsZT8n4peLJzonwrcnKSArICB2aWV3WydjbGFzcyddICsgJzwvZGl2PicpOwoKCSAgICAgICAgaWYgKCB2aWV3LnZpZXdzICkgJC5lYWNoKHZpZXcudmlld3MsIGZ1bmN0aW9uKGluZGV4LCBkYXRhKSB7CgkgICAgICAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoJzxsaSBjbGFzcz0idHJlZV9jaGlsZCI+PC9saT4nKTsKCSAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuYXBwZW5kKGJ1aWxkVmlld0Z1bmMoZGF0YSkpOwoJICAgICAgICAgICAgICAgbmV3TGlzdC5hcHBlbmQobmV3RWxlbWVudCk7CgkgICAgICAgIH0pOwoJICAgICAgICByZXR1cm4gbmV3TGlzdDsKCSAgICB9CgoJICAgIHZhciBmaWxsRnVuYyA9IGZ1bmN0aW9uKHZpZXdzKSB7CgkgICAgCSQuZWFjaCh2aWV3cywgZnVuY3Rpb24oaW5kZXgsIHZpZXcpIHsKICAgICAgICAgICAgCW5vZGVzUGFyZW50LmFwcGVuZChidWlsZFZpZXdGdW5jKHZpZXcpKTsKICAgICAgICAJfSk7CiAgICAgICAgCW5vZGVzUGFyZW50LmZpbmQoJy50cmVlX25vZGVfbmFtZScpLmhvdmVyKGZ1bmN0aW9uKCkgewogICAgICAgIAkJdmFyIHZpZXdJZCA9IHBhcnNlSW50KCQodGhpcykuYXR0cignZGF0YV9pZCcpKTsKICAgICAgICAJCWlmICggby5vbkhvdmVySW5DYWxsYmFjayApIG8ub25Ib3ZlckluQ2FsbGJhY2sodmlld0lkKTsKICAgICAgICAJfSwgZnVuY3Rpb24oKSB7CiAgICAgICAgCQl2YXIgdmlld0lkID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhX2lkJykpOwogICAgICAgIAkJaWYgKCBvLm9uSG92ZXJPdXRDYWxsYmFjayApIG8ub25Ib3Zlck91dENhbGxiYWNrKHZpZXdJZCk7CiAgICAgICAgCX0pLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgIAkJdmFyIHRhcmdldCA9ICQodGhpcyk7CiAgICAgICAgCQl2YXIgdmlld0lkID0gcGFyc2VJbnQodGFyZ2V0LmF0dHIoJ2RhdGFfaWQnKSk7CiAgICAgICAgCQlpZiAoIG8ub25DbGlja0NhbGxiYWNrICkgby5vbkNsaWNrQ2FsbGJhY2sodmlld0lkKTsKICAgICAgICAJCSQoJy50cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCd0cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpOwogICAgICAgIAkJdGFyZ2V0LmFkZENsYXNzKCd0cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpOwogICAgICAgIAkJaWYgKCB0YXJnZXQuYXR0cignY2FuX2V4cGFuZCcpID09ICcxJyApIHsKCSAgICAgICAgCQlpZiAoIHRhcmdldC5hdHRyKCdvcGVuZWQnKSA9PSAnMScgKSB7CgkgICAgICAgIAkJCXRhcmdldC5hdHRyKCdvcGVuZWQnLCAnMCcpOwoJICAgICAgICAJCQl0YXJnZXQucGFyZW50KCkuY2hpbGRyZW4oJy50cmVlX2NoaWxkJykuaGlkZSgpOwoJICAgICAgICAJCX0gZWxzZSB7CgkgICAgICAgIAkJCXRhcmdldC5hdHRyKCdvcGVuZWQnLCAnMScpOwoJICAgICAgICAJCQl0YXJnZXQucGFyZW50KCkuY2hpbGRyZW4oJy50cmVlX2NoaWxkJykuc2hvdygpOwoJICAgICAgICAJCX0KICAgICAgICAJCX0KICAgICAgICAJfSk7CgkgICAgfQoKCSAgICB2YXIgZXhwYW5kRnVuYyA9IGZ1bmN0aW9uKGlkKSB7CgkgICAgCSQoJy50cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCd0cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpOwoJICAgIAkkKCcudHJlZV9ub2RlX25hbWVbZGF0YV9pZD0nICsgaWQgKyAnXScpLmFkZENsYXNzKCd0cmVlX25vZGVfbmFtZV9zZWxlY3RlZCcpOwoJICAgIAl2YXIgdmlldyA9ICQoJy50cmVlX25vZGVbZGF0YV9pZD0nICsgaWQgKyAnXScpCgkgICAgCWlmICggdmlldyApIHsKCSAgICAJCXZhciBwYXJlbnRzID0gdmlldy5wYXJlbnRzKCcudHJlZV9jaGlsZCcpOwoJICAgIAkJcGFyZW50cy5zaG93KCk7CgkgICAgCQlwYXJlbnRzLnBhcmVudHMoKS5jaGlsZHJlbignLnRyZWVfY2hpbGQnKS5zaG93KCk7CgkgICAgCX0KCSAgICAJY29uc29sZS5sb2codmlldyk7CgkgICAgfQoKCSAgICB2YXIgY2xlYXJGdW5jID0gZnVuY3Rpb24oKSB7IG5vZGVzUGFyZW50LmVtcHR5KCk7IH0KCQl2YXIgc2hvd0Z1bmMgPSBmdW5jdGlvbigpIHsgbm9kZXNQYXJlbnQuc2hvdygpOyB9CgkJdmFyIGhpZGVGdW5jID0gZnVuY3Rpb24oKSB7IG5vZGVzUGFyZW50LmhpZGUoKTsgfQoKCSAgICBvLnBhcmVudERvbS5hcHBlbmQobm9kZXNQYXJlbnQpOwoKCQlyZXR1cm4gewoJCQlmaWxsOiBmaWxsRnVuYywKCQkJY2xlYXI6IGNsZWFyRnVuYywKCQkJc2hvdzogc2hvd0Z1bmMsCgkJCWhpZGU6IGhpZGVGdW5jLAoJCQlleHBhbmQ6IGV4cGFuZEZ1bmMsCgkJCXdyYXBwZXI6IG5vZGVzUGFyZW50CgkJfQoJfQo8L3NjcmlwdD4KPHNjcmlwdD4KCWZ1bmN0aW9uIFByb3BzRWRpdG9yKG9wdGlvbnMpIHsKCQl2YXIgbyA9IG9wdGlvbnM7CgkJdmFyIGRvbSA9ICQoJzxkaXYgY2xhc3M9ImVkaXRvcl9wYXJlbnQiPjwvZGl2PicpOwoKCQl2YXIgYnVpbGRQcm9wUm93ID0gZnVuY3Rpb24odmlld0lkLCBwcm9wLCBlZGl0YWJsZUFycmF5KSB7CgkJCXZhciByb3dQYXJlbnQgPSAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X3BhcmVudCI+PC9kaXY+Jyk7CgkJCXZhciBuYW1lID0gJCgnPGRpdiBjbGFzcz0iZWRpdG9yX3Jvd19uYW1lIHNlbGVjdGFibGVfdGV4dCI+JyArIHByb3AubmFtZSArICc8L2Rpdj4nKTsKCQkJdmFyIHZhbHVlID0gJCgnPGRpdiB0eXBlPSJ0ZXh0IiBjbGFzcz0iZWRpdG9yX3Jvd192YWx1ZSBzZWxlY3RhYmxlX3RleHQiPjwvZGl2PicpOwogICAgICAgICAgICAvL3ZhbHVlLmF0dHIoJ3ZhbHVlJywgKHByb3AudmFsdWUgPyBwcm9wLnZhbHVlIDogJycpKTsKICAgICAgICAgICAgdmFsdWUudGV4dCgocHJvcC52YWx1ZSA/IHByb3AudmFsdWUgOiAnJykpOwoJCQl2YWx1ZS5hdHRyKCdkYXRhX3R5cGUnLCBwcm9wLnR5cGUpOwoJCQl2YWx1ZS5hdHRyKCdkYXRhX2lkJywgdmlld0lkKTsKCQkJdmFsdWUuYXR0cignZGF0YV9uYW1lJywgcHJvcC5uYW1lKTsKCQkJaWYgKCAkLmluQXJyYXkocHJvcC50eXBlLCBlZGl0YWJsZUFycmF5KSA+PSAwICkgewoJCQkJdmFsdWUuYWRkQ2xhc3MoJ2VkaXRvcl9yb3dfdmFsdWVfZWRpdGFibGUnKTsKCQkJfSBlbHNlIHsKCQkJCXZhbHVlLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7CgkJCX0KCQkJdmFyIHR5cGUgPSAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X3R5cGUgc2VsZWN0YWJsZV90ZXh0Ij4nICsgcHJvcC50eXBlKyAnPC9kaXY+Jyk7CgkJCXJvd1BhcmVudC5hcHBlbmQobmFtZSk7CgkJCXJvd1BhcmVudC5hcHBlbmQodmFsdWUpOwoJCQlyb3dQYXJlbnQuYXBwZW5kKHR5cGUpOwoJCQlyZXR1cm4gcm93UGFyZW50OwoJCX0KCgkJdmFyIGJ1aWxkUHJvcEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsKCQkJcmV0dXJuICQoJzxkaXYgY2xhc3M9ImVkaXRvcl9yb3dfbGFiZWwiPicgKyBuYW1lICsgJzwvZGl2PicpOwoJCX0KCgkJdmFyIGJ1aWxkTm9Qcm9wUm93ID0gZnVuY3Rpb24oKSB7CgkJCXJldHVybiAkKCc8ZGl2IGNsYXNzPSJlZGl0b3Jfcm93X2VtcHR5Ij4obm8gcHJvcGVydGllcyk8L2Rpdj4nKTsKCQl9CgoJCXZhciBzaG93UHJvcHNGdW5jID0gZnVuY3Rpb24odmlld0lkLCBwcm9wcywgZWRpdGFibGVBcnJheSkgewoJCQlkb20uZW1wdHkoKTsKCQkJZm9yICh2YXIgaSA9IDAgOyBpIDwgcHJvcHMubGVuZ3RoIDsgKytpICkgewoJCQkJdmFyIHByb3AgPSBwcm9wc1tpXTsKCQkJCWRvbS5hcHBlbmQoYnVpbGRQcm9wSGVhZGVyKHByb3AubmFtZSkpOwoJCQkJdmFyIGRhdGFQcm9wID0gcHJvcC5wcm9wczsKCQkJCWlmICggZGF0YVByb3AubGVuZ3RoID4gMCApIHsKCQkJCQlmb3IgKCB2YXIgaiA9IDAgOyBqIDwgZGF0YVByb3AubGVuZ3RoOyArK2ogKSB7CgkJCQkJCWRvbS5hcHBlbmQoYnVpbGRQcm9wUm93KHZpZXdJZCwgZGF0YVByb3Bbal0sIGVkaXRhYmxlQXJyYXkpKTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWRvbS5hcHBlbmQoYnVpbGROb1Byb3BSb3coKSk7CgkJCQl9CgkJCX0KCQkJZG9tLmZpbmQoJy5lZGl0b3Jfcm93X3ZhbHVlX2VkaXRhYmxlJykua2V5ZG93bihmdW5jdGlvbihlKSB7CgkJCQl2YXIgdmlld0lkID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhX2lkJykpOwoJCQkJdmFyIHByb3BUeXBlID0gJCh0aGlzKS5hdHRyKCdkYXRhX3R5cGUnKTsKCQkJCXZhciBuZXdWYWx1ZSA9ICQodGhpcykuYXR0cigndmFsdWUnKTsKCQkJCXZhciBwcm9wTmFtZSA9ICQodGhpcykuYXR0cignZGF0YV9uYW1lJyk7CgkJCQlpZiAoIGUua2V5Q29kZSA9PSAxMyApIHsKCQkJCQkkLmdldEpTT04oJy91cGRhdGU/aWQ9JyArIHZpZXdJZCArICcmdHlwZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHByb3BUeXBlKSArICcmdmFsdWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChuZXdWYWx1ZSkgKyAnJm5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChwcm9wTmFtZSksIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCWNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCQkJCQkJaWYgKCByZXNwb25zZSAmJiByZXNwb25zZS5lcnJvciAgKSB7CgoJCQkJCQl9IGVsc2UgewoJCQkJCQkJaWYgKCBvLm9uVmFsdWVDaGFuZ2VkICkgby5vblZhbHVlQ2hhbmdlZCgpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCQkKCQkJfSk7CgkJfQoKCQl2YXIgc2hvd0Z1bmMgPSBmdW5jdGlvbigpIHsgZG9tLnNob3coKTsgfQoJCXZhciBoaWRlRnVuYyA9IGZ1bmN0aW9uKCkgeyBkb20uaGlkZSgpOyB9CgoJCW8ucGFyZW50RG9tLmFwcGVuZChkb20pOwoKCQlyZXR1cm4gewoJCQlzaG93UHJvcHM6IHNob3dQcm9wc0Z1bmMsCgkJCXNob3c6IHNob3dGdW5jLAoJCQloaWRlOiBoaWRlRnVuYywKCQkJd3JhcHBlcjogZG9tCgkJfQoJfQo8L3NjcmlwdD4KPHNjcmlwdD4KCWZ1bmN0aW9uIE5hdmJhcihvcHRpb25zKSB7CgkJdmFyIG8gPSBvcHRpb25zOwoJCXZhciBkb20gPSAkKCc8ZGl2IGNsYXNzPSJuYXZiYXIiPjwvZGl2PicpOwoJCXZhciB0aXRsZSAgPSAkKCc8ZGl2IGNsYXNzPSJuYXZiYXJfdGl0bGUiPmlPUyBIaWVyYXJjaHkgVmlld2VyPC9kaXY+Jyk7CgkJdmFyIGxvYWRpbmcgPSAkKCc8ZGl2IGNsYXNzPSJuYXZiYXJfbG9hZGluZyI+TG9hZGluZy4uLi48L2Rpdj4nKTsKCQlkb20uYXBwZW5kKHRpdGxlKTsKCQlkb20uYXBwZW5kKGxvYWRpbmcpOwoJCW8ucGFyZW50RG9tLmFwcGVuZChkb20pOwoKCQl2YXIgc2hvd0xvYWRpbmdGdW5jID0gZnVuY3Rpb24oKSB7IGxvYWRpbmcuc2hvdygpOyB9CgkJdmFyIGhpZGVMb2FkaW5nRnVuYyA9IGZ1bmN0aW9uKCkgeyBsb2FkaW5nLmhpZGUoKTsgfQoJCQoJCXZhciB2ZXJzaW9uRnVuYyA9IGZ1bmN0aW9uKHZlcikgewoJCQl0aXRsZS50ZXh0KCdpT1MgSGllcmFyY2h5IFZpZXdlciAoJyArIHZlciArICcpJyk7CgkJfTsKCgkJaGlkZUxvYWRpbmdGdW5jKCk7CgoJCXJldHVybiB7CgkJCWRvbUVsZW1lbnQ6IGRvbSwKCQkJdmVyc2lvbjogdmVyc2lvbkZ1bmMsCgkJCXNob3dMb2FkaW5nOiBzaG93TG9hZGluZ0Z1bmMsCgkJCWhpZGVMb2FkaW5nOiBoaWRlTG9hZGluZ0Z1bmMKCQl9OwoJfQo8L3NjcmlwdD4KPHNjcmlwdD4KCWZ1bmN0aW9uIENoZWNrYm94KG9wdGlvbnMpIHsKCQl2YXIgbyA9IG9wdGlvbnM7CgkJdmFyIGRvbSA9ICQoJzxkaXYgY2xhc3M9ImNoZWNrYm94Ij48L2Rpdj4nKTsKCQl2YXIgbWFya2VyID0gJCgnPGRpdiBjbGFzcz0iY2hlY2tib3hfbWFya2VyIj48L2Rpdj4nKTsKCQlkb20uYXBwZW5kKG1hcmtlcik7CgkJZG9tLmFwcGVuZChvLnRpdGxlKTsKCgkJdmFyIHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbigpIHsKCQkJaWYgKCBvLmNoZWNrZWQgKSB7CgkJCQltYXJrZXIudGV4dCgn4pyTJyk7CgkJCX0gZWxzZSB7CgkJCQltYXJrZXIudGV4dCgnJyk7CgkJCX0KCQl9CgoJCXZhciBjaGVja2VkRnVuYyA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gby5jaGVja2VkOwoJCX0KCgkJZG9tLmNsaWNrKGZ1bmN0aW9uKCkgewoJCQlvLmNoZWNrZWQgPSAhby5jaGVja2VkOwoJCQl1cGRhdGVGdW5jKCk7CgkJCWlmICggby5vbkNoZWNrZWRDYWxsYmFjayApIG8ub25DaGVja2VkQ2FsbGJhY2soby5jaGVja2VkKTsKCQl9KTsKCgkJdXBkYXRlRnVuYygpOwoJCW8ucGFyZW50RG9tLmFwcGVuZChkb20pOwoKCQlyZXR1cm4gewoJCQljaGVja2VkOiBjaGVja2VkRnVuYwoJCX0KCX0KPC9zY3JpcHQ+CjxzY3JpcHQ+CglmdW5jdGlvbiBTcGxpdHRlcnMob3B0aW9ucykgewoJCXZhciBvID0gb3B0aW9uczsKCgkJdmFyIGxlZnREb20gPSAkKCc8ZGl2IGNsYXNzPSJzcGxpdHRlciI+PC9kaXY+Jyk7CgkJbGVmdERvbS5jc3MoJ2xlZnQnLCBvLmNlbnRlckNvbHVtbi5jc3MoJ2xlZnQnKSk7CgkJbGVmdERvbS5jc3MoJ21hcmdpbi1sZWZ0JywgJy03cHgnKTsKCgkJby5wYXJlbnREb20uYXBwZW5kKGxlZnREb20pOwoKCQlsZWZ0RG9tLm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCXZhciBsYXN0WCA9IGUucGFnZVg7CgoJCQl2YXIgaGFuZGxlTW92ZUZ1bmMgPSBmdW5jdGlvbihlZSkgewoJCQkJdmFyIGR4ID0gbGFzdFggLSBlZS5wYWdlWDsKCQkJCWxhc3RYID0gZWUucGFnZVg7CgkJCQl2YXIgbmV3V2lkdGggPSAocGFyc2VJbnQoby5sZWZ0Q29sdW1uLmNzcygnd2lkdGgnKSkgLSBkeCk7CgkJCQlpZiAoIG5ld1dpZHRoID4gNTAgKSB7CgkJCQkJbGVmdERvbS5jc3MoJ2xlZnQnLCAocGFyc2VJbnQobGVmdERvbS5jc3MoJ2xlZnQnKSkgLSBkeCkrJ3B4Jyk7CQkJCQoJCQkJCW8ubGVmdENvbHVtbi5jc3MoJ3dpZHRoJywgbmV3V2lkdGgrJ3B4Jyk7CgkJCQkJby5jZW50ZXJDb2x1bW4uY3NzKCdsZWZ0JywgKHBhcnNlSW50KG8uY2VudGVyQ29sdW1uLmNzcygnbGVmdCcpKSAtIGR4KSsncHgnKTsKCQkJCX0KCQkJfQoKCQkJdmFyIGhhbmRsZU1vdXNlVXAgPSBmdW5jdGlvbigpIHsKCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQkJCSQod2luZG93KS51bmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmVGdW5jKTsKCQkJfTsKCgkJCSQod2luZG93KS5iaW5kKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3ZlRnVuYyk7CgkJCSQod2luZG93KS5iaW5kKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CgkJfSk7CgoJCXZhciByaWdodERvbSA9ICQoJzxkaXYgY2xhc3M9InNwbGl0dGVyIj48L2Rpdj4nKTsKCQlyaWdodERvbS5jc3MoJ3JpZ2h0Jywgby5jZW50ZXJDb2x1bW4uY3NzKCdyaWdodCcpKTsKCQlyaWdodERvbS5jc3MoJ21hcmdpbi1yaWdodCcsICctN3B4Jyk7CgoJCW8ucGFyZW50RG9tLmFwcGVuZChyaWdodERvbSk7CgoJCXJpZ2h0RG9tLm1vdXNlZG93bihmdW5jdGlvbihlKSB7CgkJCXZhciBsYXN0WCA9IGUucGFnZVg7CgoJCQl2YXIgaGFuZGxlTW92ZUZ1bmMgPSBmdW5jdGlvbihlZSkgewoJCQkJdmFyIGR4ID0gbGFzdFggLSBlZS5wYWdlWDsKCQkJCWxhc3RYID0gZWUucGFnZVg7CgkJCQl2YXIgbmV3V2lkdGggPSBwYXJzZUludChvLnJpZ2h0Q29sdW1uLmNzcygnd2lkdGgnKSkgKyBkeDsKCQkJCWlmICggbmV3V2lkdGggPiA1MCApIHsKCQkJCQlyaWdodERvbS5jc3MoJ3JpZ2h0JywgKHBhcnNlSW50KHJpZ2h0RG9tLmNzcygncmlnaHQnKSkgKyBkeCkrJ3B4Jyk7CgkJCQkJby5yaWdodENvbHVtbi5jc3MoJ3dpZHRoJywgbmV3V2lkdGgrJ3B4Jyk7CgkJCQkJby5jZW50ZXJDb2x1bW4uY3NzKCdyaWdodCcsIChwYXJzZUludChvLmNlbnRlckNvbHVtbi5jc3MoJ3JpZ2h0JykpICsgZHgpKydweCcpOwoJCQkJfQoJCQl9CgoJCQl2YXIgaGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uKCkgewoJCQkJJCh3aW5kb3cpLnVuYmluZCgnbW91c2V1cCcsIGhhbmRsZU1vdXNlVXApOwoJCQkJJCh3aW5kb3cpLnVuYmluZCgnbW91c2Vtb3ZlJywgaGFuZGxlTW92ZUZ1bmMpOwoJCQl9OwoKCQkJJCh3aW5kb3cpLmJpbmQoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmVGdW5jKTsKCQkJJCh3aW5kb3cpLmJpbmQoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKCQl9KTsKCgkJcmV0dXJuIHt9OwoJfQo8L3NjcmlwdD4KPHNjcmlwdD4JCgoJdmFyIHZpZXdzRGF0YTsKCgl2YXIgcHJvcHNFZGl0b3IgPSBuZXcgUHJvcHNFZGl0b3IoeyBwYXJlbnREb206ICQoJ2JvZHknKSB9KTsKCiAgICB2YXIgZmluZFZpZXdCeUlkID0gZnVuY3Rpb24ocGFyZW50LCBpZCkgewogICAgCWlmICggcGFyZW50LmlkID09IGlkICkgcmV0dXJuIHBhcmVudDsKICAgIAlpZiAoIHBhcmVudC52aWV3cyApIHsKICAgIAkJZm9yICggdmFyIGkgPSAwIDsgaSA8IHBhcmVudC52aWV3cy5sZW5ndGggOyArK2kgKSB7CiAgICAJCQl2YXIgdmlldyA9IGZpbmRWaWV3QnlJZChwYXJlbnQudmlld3NbaV0sIGlkKTsKICAgIAkJCWlmICggdmlldyApIHJldHVybiB2aWV3OwogICAgCQl9CiAgICAJfQogICAgfQoKICAgIHZhciBmaW5kVmlldyA9IGZ1bmN0aW9uKHNuYXBzaG90LCBpZCkgewogICAgCWlmICggc25hcHNob3Qud2luZG93cyApIHsKICAgIAkJZm9yICggdmFyIGkgPSAwIDsgaSA8IHNuYXBzaG90LndpbmRvd3MubGVuZ3RoIDsgKytpICkgewogICAgCQkJdmFyIHZpZXcgPSBmaW5kVmlld0J5SWQoc25hcHNob3Qud2luZG93c1tpXSwgaWQpOwogICAgCQkJaWYgKCB2aWV3ICkgcmV0dXJuIHZpZXc7CiAgICAJCX0KICAgIAl9CiAgICB9CgogICAgdmFyIHZpZXdzVHJlZSA9IG5ldyBWaWV3c1RyZWUoeyBwYXJlbnREb206ICQoJ2JvZHknKSwKICAgIAlvbkhvdmVySW5DYWxsYmFjazogZnVuY3Rpb24odmlld0lkKSB7CiAgICAJCXByZXZpZXdTY3JlZW4uZm9jdXModmlld0lkKTsKICAgIAl9LAogICAgCW9uSG92ZXJPdXRDYWxsYmFjazogZnVuY3Rpb24odmlld0lkKSB7CiAgICAJCXByZXZpZXdTY3JlZW4uYmx1cih2aWV3SWQpOwogICAgCX0sCiAgICAJb25DbGlja0NhbGxiYWNrOiBmdW5jdGlvbih2aWV3SWQpIHsKICAgIAkJdmFyIHZpZXcgPSBmaW5kVmlldyh2aWV3c0RhdGEsIHZpZXdJZCk7CiAgICAJCWlmICggdmlldyApIHByb3BzRWRpdG9yLnNob3dQcm9wcyh2aWV3SWQsIHZpZXcucHJvcHMsIHZpZXdzRGF0YS5lZGl0YWJsZSk7CiAgICAJfQogICAgfSk7CgogICAgdmFyIHNjcmVlblBhcmVudCA9ICQoJzxkaXYgY2xhc3M9InNjcmVlbl9wYXJlbnQiPjwvZGl2PicpOwogICAgJCgnYm9keScpLmFwcGVuZChzY3JlZW5QYXJlbnQpOwogICAgCiAgICB2YXIgcHJldmlld1NjcmVlbiA9IG5ldyBTY3JlZW4oewogICAgCXBhcmVudERvbTogc2NyZWVuUGFyZW50LAogICAgCWZyYW1lX3g6IDAsCiAgICAJZnJhbWVfeTogMCwKICAgIAlmcmFtZV93OiA1MDAsCiAgICAJZnJhbWVfaDogNTAwLAogICAgCW9uU2VsZWN0ZWQ6IGZ1bmN0aW9uKHZpZXdJZCkgewogICAgCQljb25zb2xlLmxvZyh2aWV3SWQpOwogICAgCQl2YXIgdmlldyA9IGZpbmRWaWV3KHZpZXdzRGF0YSwgdmlld0lkKTsKICAgIAkJaWYgKCB2aWV3ICkgewogICAgCQkJcHJvcHNFZGl0b3Iuc2hvd1Byb3BzKHZpZXdJZCwgdmlldy5wcm9wcywgdmlld3NEYXRhLmVkaXRhYmxlKTsKICAgIAkJCXZpZXdzVHJlZS5leHBhbmQodmlld0lkKTsKICAgIAkJfQogICAgCX0KICAgIH0pOwoKICAgIHZhciBuYXZiYXIgPSBuZXcgTmF2YmFyKHsgcGFyZW50RG9tOiAkKCdib2R5JykgfSk7CgogICAgdmFyIGNoZWNrYm94ID0gbmV3IENoZWNrYm94KHsgY2hlY2tlZDogZmFsc2UsCiAgICAJdGl0bGU6ICdTaG93IGRlYnVnIGZyYW1lcycsCiAgICAJcGFyZW50RG9tOiBuYXZiYXIuZG9tRWxlbWVudCwgCiAgICAJb25DaGVja2VkQ2FsbGJhY2s6IGZ1bmN0aW9uKGNoZWNrZWQpIHsKICAgIAkJaWYgKCBjaGVja2VkICkgewogICAgCQkJcHJldmlld1NjcmVlbi5zaG93RGVidWdGcmFtZXMoKTsKICAgIAkJfSBlbHNlIHsKICAgIAkJCXByZXZpZXdTY3JlZW4uaGlkZURlYnVnRnJhbWVzKCk7CiAgICAJCX0KICAgIAl9CiAgICAgfSk7CgogICAgdmFyIHNwbGl0dGVycyA9IG5ldyBTcGxpdHRlcnMoewogICAgCWxlZnRDb2x1bW46IHZpZXdzVHJlZS53cmFwcGVyLAogICAgCWNlbnRlckNvbHVtbjogc2NyZWVuUGFyZW50LAogICAgCXJpZ2h0Q29sdW1uOiBwcm9wc0VkaXRvci53cmFwcGVyLAogICAgCXBhcmVudERvbTogJCgnYm9keScpCiAgICB9KTsKCiAgICBuYXZiYXIuc2hvd0xvYWRpbmcoKTsKICAgIHByb3BzRWRpdG9yLmhpZGUoKTsKICAgIHZpZXdzVHJlZS5oaWRlKCk7CiAgICBwcmV2aWV3U2NyZWVuLmhpZGUoKTsKCiAgICAkLmdldEpTT04oJy9zbmFwc2hvdD9ub2NhY2hlPScgKyAobmV3IERhdGUoKS5nZXRUaW1lKCkpLCBmdW5jdGlvbihsb2FkZWREYXRhKSB7CiAgICAJdmlld3NEYXRhID0gbG9hZGVkRGF0YTsKICAgICAgICB2aWV3c1RyZWUuZmlsbChsb2FkZWREYXRhLndpbmRvd3MpOwogICAgICAgIHByZXZpZXdTY3JlZW4uc2l6ZSh7IGZyYW1lX3g6IDAsIGZyYW1lX3k6IDAsIGJvdW5kc193OiBsb2FkZWREYXRhLnNjcmVlbl93LCBib3VuZHNfaDogbG9hZGVkRGF0YS5zY3JlZW5faCB9KTsKICAgICAgICBwcmV2aWV3U2NyZWVuLmNsZWFyKCk7CiAgICAgICAgcHJldmlld1NjcmVlbi5maWxsKGxvYWRlZERhdGEud2luZG93cyk7CiAgICAgICAgaWYgKCBsb2FkZWREYXRhLndpbmRvd3NbMF0gKSBwcm9wc0VkaXRvci5zaG93UHJvcHMobG9hZGVkRGF0YS53aW5kb3dzWzBdLmlkLCBsb2FkZWREYXRhLndpbmRvd3NbMF0ucHJvcHMsIGxvYWRlZERhdGEuZWRpdGFibGUpOwogICAgICAgIG5hdmJhci5oaWRlTG9hZGluZygpOwogICAgICAgIG5hdmJhci52ZXJzaW9uKGxvYWRlZERhdGEudmVyc2lvbik7CiAgIAkJcHJvcHNFZGl0b3Iuc2hvdygpOwogICAgCXZpZXdzVHJlZS5zaG93KCk7CiAgICAJcHJldmlld1NjcmVlbi5zaG93KCk7CiAgICB9KTsKPC9zY3JpcHQ+CjwvaHRtbD4="

#endif
